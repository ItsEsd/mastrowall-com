<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Quiz Editor - MASTROWALL</title> <link rel="icon" href="https://mastrowall.com/images/logoRecBWsvg.svg" type="image/png" sizes="16x16" /> <link rel="stylesheet" href="style.css" /> </head> <body> <script src="data:text/plain;base64,IGNvbnN0IHRpbWVkYXRhID0gIklDQThabTl5YlNCcFpEMGljWFZwZWtadmNtMGlJR0YxZEc5amIyMXdiR1YwWlQwaWIyWm1JajRLSUNBZ0lDQWdQR3hoWW1Wc0lHWnZjajBpY1hWcGVsUnBkR3hsSWo1UmRXbDZJRlJwZEd4bE9qd3ZiR0ZpWld3K0NpQWdJQ0FnSUR4cGJuQjFkQW9nSUNBZ0lDQWdJSFI1Y0dVOUluUmxlSFFpQ2lBZ0lDQWdJQ0FnYVdROUluRjFhWHBVYVhSc1pTSUtJQ0FnSUNBZ0lDQnVZVzFsUFNKeGRXbDZWR2wwYkdVaUNpQWdJQ0FnSUNBZ2NHeGhZMlZvYjJ4a1pYSTlJazVoYldVZ2VXOTFjaUJ4ZFdsNklnb2dJQ0FnSUNBZ0lISmxjWFZwY21Wa0NpQWdJQ0FnSUM4K0NpQWdJQ0FnSUR4emNHRnVJR2xrUFNKdWRHbDBiblFpUGxCc1pXRnpaU0JoWkdRZ1lTQnhkV2w2SUhScGRHeGxJQ2hoZENCc1pXRnpkQ0F4TUNCamFHRnlZV04wWlhKektUd3ZjM0JoYmo0S0NpQWdJQ0FnSUR4c1lXSmxiQ0JtYjNJOUltTnlaV0YwYVc5dVJHRjBaU0krUkdGMFpTQnZaaUJEY21WaGRHbHZiam84TDJ4aFltVnNQZ29nSUNBZ0lDQThhVzV3ZFhRZ2RIbHdaVDBpZEdWNGRDSWdhV1E5SW1OeVpXRjBhVzl1UkdGMFpTSWdibUZ0WlQwaVkzSmxZWFJwYjI1RVlYUmxJaUJrYVhOaFlteGxaQ0F2UGdvS0lDQWdJQ0FnUEd4aFltVnNJR1p2Y2owaWNYVnBla2xrSWo1UmRXbDZJRWxFT2p3dmJHRmlaV3crQ2lBZ0lDQWdJRHhwYm5CMWRDQjBlWEJsUFNKMFpYaDBJaUJwWkQwaWNYVnBla2xrSWlCdVlXMWxQU0p4ZFdsNlNXUWlJR1JwYzJGaWJHVmtJQzgrQ2dvZ0lDQWdJQ0E4YVc1d2RYUUtJQ0FnSUNBZ0lDQjBlWEJsUFNKd1lYTnpkMjl5WkNJS0lDQWdJQ0FnSUNCcFpEMGljWFZwZWxCaGMzTWlDaUFnSUNBZ0lDQWdibUZ0WlQwaWNYVnBlbEJoYzNNaUNpQWdJQ0FnSUNBZ2NHeGhZMlZvYjJ4a1pYSTlJbEJoYzNNaUNpQWdJQ0FnSUNBZ2NtVnhkV2x5WldRS0lDQWdJQ0FnTHo0S0NpQWdJQ0FnSUR4alpXNTBaWEkrQ2lBZ0lDQWdJQ0FnUEdsdWNIVjBDaUFnSUNBZ0lDQWdJQ0JqYkdGemN6MGljbVZ6ZEdOMFluUnVJZ29nSUNBZ0lDQWdJQ0FnZEhsd1pUMGlZblYwZEc5dUlnb2dJQ0FnSUNBZ0lDQWdkbUZzZFdVOUlsQjFZbXhwWXlJS0lDQWdJQ0FnSUNBZ0lHOXVZMnhwWTJzOUluUnZaMmRzWlVGalkyVnpjMVI1Y0dVb0oxQjFZbXhwWXljcElnb2dJQ0FnSUNBZ0lDOCtDaUFnSUNBZ0lDQWdQR2x1Y0hWMENpQWdJQ0FnSUNBZ0lDQmpiR0Z6Y3owaWNtVnpkR04wWW5SdUlnb2dJQ0FnSUNBZ0lDQWdkSGx3WlQwaVluVjBkRzl1SWdvZ0lDQWdJQ0FnSUNBZ2RtRnNkV1U5SWxCeWFYWmhkR1VpQ2lBZ0lDQWdJQ0FnSUNCdmJtTnNhV05yUFNKMGIyZG5iR1ZCWTJObGMzTlVlWEJsS0NkUWNtbDJZWFJsSnlraUNpQWdJQ0FnSUNBZ0x6NEtJQ0FnSUNBZ0lDQThjQW9nSUNBZ0lDQWdJQ0FnYzNSNWJHVTlJZ29nSUNBZ0lDQWdJQ0FnSUNCbWIyNTBMWE5wZW1VNklERXljSGc3Q2lBZ0lDQWdJQ0FnSUNBZ0lIUmxlSFF0WVd4cFoyNDZJR3hsWm5RN0NpQWdJQ0FnSUNBZ0lDQWdJSEJoWkdScGJtYzZJREJ3ZURzS0lDQWdJQ0FnSUNBZ0lDQWdiV0Z5WjJsdU9pQXdjSGc3Q2lBZ0lDQWdJQ0FnSUNBZ0lHTnZiRzl5T2lCbmNtVjVPd29nSUNBZ0lDQWdJQ0FnSWdvZ0lDQWdJQ0FnSUQ0S0lDQWdJQ0FnSUNBZ0lEeGlQbEIxWW14cFl6bzhMMkkrSUZGMWFYb2dkMmxzYkNCaVpTQm1aV0YwZFhKbFpDQnZiaUJ4ZFdsNkxtMWhjM1J5YjNkaGJHd3VZMjl0SUNoa1pXWmhkV3gwS1FvZ0lDQWdJQ0FnSUNBZ2ZDQThZajVRY21sMllYUmxPand2WWo0Z1VYVnBlaUJqWVc0Z2IyNXNlU0JpWlNCbVpYUmphR1ZrSUdKNUlGdHNhVzVyWFNBdklGQmhjM01LSUNBZ0lDQWdJQ0E4TDNBK0NpQWdJQ0FnSUR3dlkyVnVkR1Z5UGdvS0lDQWdJQ0FnUEdoeUlDOCtDaUFnSUNBZ0lEeGthWFlnYVdROUluRjFaWE4wYVc5dWMwTnZiblJoYVc1bGNpSStQQzlrYVhZK0Nnb2dJQ0FnSUNBOFluVjBkRzl1SUhSNWNHVTlJbUoxZEhSdmJpSWdiMjVqYkdsamF6MGlZV1JrVVhWbGMzUnBiMjRvS1NJK1FXUmtJRkYxWlhOMGFXOXVQQzlpZFhSMGIyNCtDaUFnSUNBZ0lEeGlkWFIwYjI0S0lDQWdJQ0FnSUNCMGVYQmxQU0ppZFhSMGIyNGlDaUFnSUNBZ0lDQWdZMnhoYzNNOUltMXVablZ1WTJKMGJpSUtJQ0FnSUNBZ0lDQnZibU5zYVdOclBTSmpjbVZoZEdWS2MyOXVRVzVrVFdGclpVRnFZWGhTWlhGMVpYTjBLQ2tpQ2lBZ0lDQWdJRDRLSUNBZ0lDQWdJQ0JUZFdKdGFYUWdMeUJIWlhRZ1VYVnBlaUJzYVc1cklEeHpjR0Z1SUhOMGVXeGxQU0ptYjI1MExYTnBlbVU2SURFd2NIZ2lQaVlqTVRJNE1qYzVPend2YzNCaGJqNEtJQ0FnSUNBZ1BDOWlkWFIwYjI0K0NpQWdJQ0FnSUR4emNHRnVJSE4wZVd4bFBTSm1iRzloZERvZ2NtbG5hSFE3SUdadmJuUXRjMmw2WlRvZ01USndlRHNnYldGeVoybHVMWFJ2Y0RvZ01UQndlQ0krQ2lBZ0lDQWdJQ0FnSm1OdmNIazdDaUFnSUNBZ0lDQWdQR0VLSUNBZ0lDQWdJQ0FnSUdoeVpXWTlJbWgwZEhCek9pOHZiV0Z6ZEhKdmQyRnNiQzVqYjIwaUNpQWdJQ0FnSUNBZ0lDQnpkSGxzWlQwaWRHVjRkQzFrWldOdmNtRjBhVzl1T2lCdWIyNWxPeUJqYjJ4dmNqb2daM0psZVNJS0lDQWdJQ0FnSUNBZ0lIUmhjbWRsZEQwaVgySnNZVzVySWdvZ0lDQWdJQ0FnSUNBZ1BrMGdRU0JUSUZRZ1VpQlBJRmNnUVNCTUlFdzhMMkVLSUNBZ0lDQWdJQ0ErUEM5emNHRnVDaUFnSUNBZ0lENEtJQ0FnSUR3dlptOXliVDRLSUNBZ0lEeG1iM0p0Q2lBZ0lDQWdJRzVoYldVOUluTjFZbTFwZEMxMGJ5MW5iMjluYkdVdGMyaGxaWFFpQ2lBZ0lDQWdJR2xrUFNKblpuSnRjMkp0ZENJS0lDQWdJQ0FnYzNSNWJHVTlJbVJwYzNCc1lYazZJRzV2Ym1VaUNpQWdJQ0FnSUc5dWMzVmliV2wwUFNKeVpYUjFjbTRnWm1Gc2MyVWlDaUFnSUNBK0NpQWdJQ0FnSUR4cGJuQjFkQ0J1WVcxbFBTSlJXbVJoZEdFaUlHbGtQU0pSV21SaGRHRWlJQzgrQ2lBZ0lDQWdJRHhwYm5CMWRDQnVZVzFsUFNKUlUyUmhkR0VpSUdsa1BTSlJVMlJoZEdFaUlDOCtDaUFnSUNBZ0lEeHBibkIxZENCdVlXMWxQU0pSU1dRaUlHbGtQU0pSU1dRaUlDOCtDaUFnSUNBZ0lEeHBibkIxZENCdVlXMWxQU0pSVUdGemN5SWdhV1E5SWxGUVlYTnpJaUF2UGdvZ0lDQWdJQ0E4YVc1d2RYUWdibUZ0WlQwaVVWTjBZWFJsSWlCcFpEMGlVVk4wSWlBdlBnb2dJQ0FnUEM5bWIzSnRQZ29nSUNBZ1BHTmxiblJsY2o0OFpHbDJJR2xrUFNKc2IyRmtaWElpSUhOMGVXeGxQU0prYVhOd2JHRjVPaUJ1YjI1bElqNVRkV0p0YVhSMGFXNW5MaTR1UEM5a2FYWStQQzlqWlc1MFpYSStDaUFnSUNBOFkyVnVkR1Z5UGp4a2FYWWdhV1E5SW5GMWFYcE1hVzVySWlCemRIbHNaVDBpWkdsemNHeGhlVG9nYm05dVpTSStQQzlrYVhZK1BDOWpaVzUwWlhJKyI7Y29uc3QgdGltZWJvZHkgPSBhdG9iKHRpbWVkYXRhKTtkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGF0b2IodGltZWRhdGEpOw=="></script> <script src="data:text/plain;base64,bGV0IGFjY2Vzc1R5cGUgPSAiUHVibGljIjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlFTdCIpLnZhbHVlID0gYWNjZXNzVHlwZTsKICAgICAgZnVuY3Rpb24gdG9nZ2xlQWNjZXNzVHlwZSh0eXBlKSB7CiAgICAgICAgYWNjZXNzVHlwZSA9IHR5cGU7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlFTdCIpLnZhbHVlID0gdHlwZTsKICAgICAgICB1cGRhdGVCdXR0b25zKCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUJ1dHRvbnMoKSB7CiAgICAgICAgY29uc3QgcHVibGljQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigKICAgICAgICAgICcucmVzdGN0YnRuW3ZhbHVlPSJQdWJsaWMiXScKICAgICAgICApOwogICAgICAgIGNvbnN0IHByaXZhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKAogICAgICAgICAgJy5yZXN0Y3RidG5bdmFsdWU9IlByaXZhdGUiXScKICAgICAgICApOwoKICAgICAgICBpZiAoYWNjZXNzVHlwZSA9PT0gIlB1YmxpYyIpIHsKICAgICAgICAgIHB1YmxpY0J1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gIiNmZGM3NWEiOwogICAgICAgICAgcHJpdmF0ZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gIiNjMmMyYzIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwdWJsaWNCdXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICIjYzJjMmMyIjsKICAgICAgICAgIHByaXZhdGVCdXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICIjZmRjNzVhIjsKICAgICAgICB9CiAgICAgIH0KICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNyZWF0aW9uRGF0ZSIpLnZhbHVlID0KICAgICAgICBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpeklkIikudmFsdWUgPSAiUVVJWi8iICsgZ2VuZXJhdGVSYW5kb21JZCgpOwoKICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21JZCgpIHsKICAgICAgICB2YXIgY2hhcmFjdGVycyA9CiAgICAgICAgICAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiOwogICAgICAgIHZhciByYW5kb21JZCA9ICIiOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CiAgICAgICAgICByYW5kb21JZCArPSBjaGFyYWN0ZXJzLmNoYXJBdCgKICAgICAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVycy5sZW5ndGgpCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmFuZG9tSWQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZFF1ZXN0aW9uKCkgewogICAgICAgIHZhciBxdWl6VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelRpdGxlIikudmFsdWU7CiAgICAgICAgdmFyIHF1aXpQcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6UGFzcyIpLnZhbHVlOwogICAgICAgIGlmIChxdWl6VGl0bGUudHJpbSgpID09PSAiIiB8fCBxdWl6VGl0bGUubGVuZ3RoIDwgMTApIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJudGl0bnQiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm50aXRudCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelRpdGxlIikuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHF1aXpQcy50cmltKCkgPT09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelBhc3MiKS5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkIHJlZCI7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6UGFzcyIpLnN0eWxlLmJvcmRlciA9ICIxcHggc29saWQgI2NjYyI7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelBhc3MiKS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHZhciBxdWVzdGlvbklkID0gIlEvIiArIGdlbmVyYXRlUmFuZG9tSWQoKTsKCiAgICAgICAgdmFyIHF1ZXN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgcXVlc3Rpb25Db250YWluZXIuY2xhc3NMaXN0LmFkZCgicXVlc3Rpb24tY29udGFpbmVyIik7CgogICAgICAgIHF1ZXN0aW9uQ29udGFpbmVyLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSdybXZxc2J0bicgb25jbGljaz0icmVtb3ZlUXVlc3Rpb24odGhpcykiPlJlbW92ZTwvYnV0dG9uPgoKICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InF1ZXN0aW9uSWQiIHN0eWxlPSdmb250LXNpemU6MTRweDtjb2xvcjpncmV5Oyc+UXVlc3Rpb24gSUQ6IDxiPiR7cXVlc3Rpb25JZH08L2I+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJxdWVzdGlvbklkIiBzdHlsZT0nZGlzcGxheTpub25lOycgdmFsdWU9IiR7cXVlc3Rpb25JZH0iIHJlYWRvbmx5IC8+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdxenN0aW5wdCc+PGxhYmVsIGZvcj0icXVlc3Rpb25TdGF0ZW1lbnQiPlF1ZXN0aW9uIFN0YXRlbWVudDo8L2xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBjb250ZW50ZWRpdGFibGU9InRydWUiIG5hbWU9InF1ZXN0aW9uU3RhdGVtZW50IiBjbGFzcz0iY29ucXNkaXYiPjwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIG9uY2xpY2s9InJlbW92ZUZvcm1hdHRpbmcodGhpcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSIgY2xhc3M9J3JtdmZybXQnPlJlbW92ZSBGb3JtYXR0aW5nPC9idXR0b24+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdvcHRuc3QnPjxsYWJlbCBmb3I9Im9wdGlvbnMiPk9wdGlvbnM6PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJvcHRpb24xIiBwbGFjZWhvbGRlcj0iT3B0aW9uIDEiIHJlcXVpcmVkIC8+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ib3B0aW9uMiIgcGxhY2Vob2xkZXI9Ik9wdGlvbiAyIiByZXF1aXJlZCAvPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im9wdGlvbjMiIHBsYWNlaG9sZGVyPSJPcHRpb24gMyIgcmVxdWlyZWQgLz4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJvcHRpb240IiBwbGFjZWhvbGRlcj0iT3B0aW9uIDQiIHJlcXVpcmVkIC8+PC9kaXY+CgogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYW5zd2VyIj5Db3JyZWN0IEFuc3dlcjo8L2xhYmVsPgogICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPSJhbnN3ZXIiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im9wdGlvbjEiPk9wdGlvbiAxPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ib3B0aW9uMiI+T3B0aW9uIDI8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJvcHRpb24zIj5PcHRpb24gMzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im9wdGlvbjQiPk9wdGlvbiA0PC9vcHRpb24+CiAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgYDsKCiAgICAgICAgZG9jdW1lbnQKICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25zQ29udGFpbmVyIikKICAgICAgICAgIC5hcHBlbmRDaGlsZChxdWVzdGlvbkNvbnRhaW5lcik7CgogICAgICAgIHF1ZXN0aW9uQ29udGFpbmVyLnNjcm9sbEludG9WaWV3KHsKICAgICAgICAgIGJlaGF2aW9yOiAic21vb3RoIiwKICAgICAgICAgIGJsb2NrOiAiZW5kIiwKICAgICAgICAgIGlubGluZTogIm5lYXJlc3QiLAogICAgICAgIH0pOwoKICAgICAgICB2YXIgaW5wdXRFbGVtZW50cyA9IHF1ZXN0aW9uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICAgICAiaW5wdXRbbmFtZV0sIHNlbGVjdFtuYW1lXSwgZGl2W25hbWVdIgogICAgICAgICk7CiAgICAgICAgaW5wdXRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgaGFuZGxlSW5wdXQpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGRvY3VtZW50CiAgICAgICAgLmdldEVsZW1lbnRCeUlkKCJxdWl6VGl0bGUiKQogICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGhhbmRsZUlucHV0KTsKICAgICAgZG9jdW1lbnQKICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoInF1aXpQYXNzIikKICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBoYW5kbGVJbnB1dCk7CiAgICAgIGZ1bmN0aW9uIHJlbW92ZVF1ZXN0aW9uKGJ1dHRvbikgewogICAgICAgIHZhciBxdWVzdGlvbkNvbnRhaW5lciA9IGJ1dHRvbi5wYXJlbnROb2RlOwogICAgICAgIGRvY3VtZW50CiAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uc0NvbnRhaW5lciIpCiAgICAgICAgICAucmVtb3ZlQ2hpbGQocXVlc3Rpb25Db250YWluZXIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjcmVhdGVKc29uQW5kTWFrZUFqYXhSZXF1ZXN0KCkgewogICAgICAgIHZhciBxdWl6VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelRpdGxlIikudmFsdWU7CiAgICAgICAgdmFyIGNyZWF0aW9uRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcmVhdGlvbkRhdGUiKS52YWx1ZTsKICAgICAgICB2YXIgcXVpeklkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpJZCIpLnZhbHVlOwogICAgICAgIHZhciBxdWl6UGFzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6UGFzcyIpLnZhbHVlOwogICAgICAgIHZhciBxdWVzdGlvbnNEYXRhID0gW107CiAgICAgICAgdmFyIHF1ZXN0aW9uQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICAgICAiLnF1ZXN0aW9uLWNvbnRhaW5lciIKICAgICAgICApOwogICAgICAgIHF1ZXN0aW9uQ29udGFpbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChxdWVzdGlvbkNvbnRhaW5lciwgaW5kZXgpIHsKICAgICAgICAgIHZhciBxdWVzdGlvbklkRWxlbWVudCA9IHF1ZXN0aW9uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoCiAgICAgICAgICAgICdbbmFtZT0icXVlc3Rpb25JZCJdJwogICAgICAgICAgKTsKICAgICAgICAgIHZhciBxdWVzdGlvblN0YXRlbWVudEVsZW1lbnQgPSBxdWVzdGlvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKAogICAgICAgICAgICAnW25hbWU9InF1ZXN0aW9uU3RhdGVtZW50Il0nCiAgICAgICAgICApOwogICAgICAgICAgdmFyIG9wdGlvbjFFbGVtZW50ID0KICAgICAgICAgICAgcXVlc3Rpb25Db250YWluZXIucXVlcnlTZWxlY3RvcignW25hbWU9Im9wdGlvbjEiXScpOwogICAgICAgICAgdmFyIG9wdGlvbjJFbGVtZW50ID0KICAgICAgICAgICAgcXVlc3Rpb25Db250YWluZXIucXVlcnlTZWxlY3RvcignW25hbWU9Im9wdGlvbjIiXScpOwogICAgICAgICAgdmFyIG9wdGlvbjNFbGVtZW50ID0KICAgICAgICAgICAgcXVlc3Rpb25Db250YWluZXIucXVlcnlTZWxlY3RvcignW25hbWU9Im9wdGlvbjMiXScpOwogICAgICAgICAgdmFyIG9wdGlvbjRFbGVtZW50ID0KICAgICAgICAgICAgcXVlc3Rpb25Db250YWluZXIucXVlcnlTZWxlY3RvcignW25hbWU9Im9wdGlvbjQiXScpOwogICAgICAgICAgdmFyIGFuc3dlckVsZW1lbnQgPQogICAgICAgICAgICBxdWVzdGlvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbbmFtZT0iYW5zd2VyIl0nKTsKCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgICFxdWVzdGlvbklkRWxlbWVudC52YWx1ZSB8fAogICAgICAgICAgICAhcXVlc3Rpb25TdGF0ZW1lbnRFbGVtZW50LmlubmVySFRNTCB8fAogICAgICAgICAgICAhb3B0aW9uMUVsZW1lbnQudmFsdWUgfHwKICAgICAgICAgICAgIW9wdGlvbjJFbGVtZW50LnZhbHVlIHx8CiAgICAgICAgICAgICFvcHRpb24zRWxlbWVudC52YWx1ZSB8fAogICAgICAgICAgICAhb3B0aW9uNEVsZW1lbnQudmFsdWUgfHwKICAgICAgICAgICAgIWFuc3dlckVsZW1lbnQudmFsdWUKICAgICAgICAgICkgewogICAgICAgICAgICBhbGVydCgiUGxlYXNlIGZpbGwgaW4gYWxsIGZpZWxkcyBmb3IgcXVlc3Rpb24gIiArIChpbmRleCArIDEpKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBxdWVzdGlvbklkID0gcXVlc3Rpb25JZEVsZW1lbnQudmFsdWU7CiAgICAgICAgICB2YXIgcXVlc3Rpb25TdGF0ZW1lbnQgPSBxdWVzdGlvblN0YXRlbWVudEVsZW1lbnQuaW5uZXJIVE1MOwogICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgIG9wdGlvbjE6IG9wdGlvbjFFbGVtZW50LnZhbHVlLAogICAgICAgICAgICBvcHRpb24yOiBvcHRpb24yRWxlbWVudC52YWx1ZSwKICAgICAgICAgICAgb3B0aW9uMzogb3B0aW9uM0VsZW1lbnQudmFsdWUsCiAgICAgICAgICAgIG9wdGlvbjQ6IG9wdGlvbjRFbGVtZW50LnZhbHVlLAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBhbnN3ZXIgPSBhbnN3ZXJFbGVtZW50LnZhbHVlOwoKICAgICAgICAgIHZhciBxdWVzdGlvbkRhdGEgPSB7CiAgICAgICAgICAgIHF1ZXN0aW9uTnVtYmVyOiBpbmRleCArIDEsCiAgICAgICAgICAgIHF1ZXN0aW9uSWQ6IHF1ZXN0aW9uSWQsCiAgICAgICAgICAgIHF1ZXN0aW9uU3RhdGVtZW50OiBxdWVzdGlvblN0YXRlbWVudCwKICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICAgICAgYW5zd2VyOiBhbnN3ZXIsCiAgICAgICAgICB9OwoKICAgICAgICAgIHF1ZXN0aW9uc0RhdGEucHVzaChxdWVzdGlvbkRhdGEpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAocXVlc3Rpb25zRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIGFsZXJ0KCJQbGVhc2UgYWRkIGF0IGxlYXN0IG9uZSBxdWVzdGlvbiIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdmFyIHF1aXpEYXRhID0gewogICAgICAgICAgcXVpelRpdGxlOiBxdWl6VGl0bGUsCiAgICAgICAgICBjcmVhdGlvbkRhdGU6IGNyZWF0aW9uRGF0ZSwKICAgICAgICAgIHF1aXpJZDogcXVpeklkLAogICAgICAgIH07CgogICAgICAgIHZhciBqc29uRGF0YVF1aXogPSBKU09OLnN0cmluZ2lmeShxdWl6RGF0YSk7CiAgICAgICAgdmFyIGpzb25EYXRhUXVlc3Rpb25zID0gSlNPTi5zdHJpbmdpZnkocXVlc3Rpb25zRGF0YSk7CgogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJRWmRhdGEiKS52YWx1ZSA9IGVuY29kZVRvQmFzZTY0KGpzb25EYXRhUXVpeik7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlFTZGF0YSIpLnZhbHVlID0KICAgICAgICAgIGVuY29kZVRvQmFzZTY0KGpzb25EYXRhUXVlc3Rpb25zKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiUUlkIikudmFsdWUgPSBlbmNvZGVUb0Jhc2U2NChxdWl6SWQpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJRUGFzcyIpLnZhbHVlID0gZW5jb2RlVG9CYXNlNjQocXVpelBhc3MpOwogICAgICAgIGNvbnN0IHF6Y3JsZyA9CiAgICAgICAgICAiaHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J4Qlh1NU1pbmJsZVIxUEdyMERxeDJPYXVqN2JXWW5CV2VBNmlPVXVveTZPbnhOZWN0Rks0QWNuNFVRejlWcHYzTjYvZXhlYyI7CgogICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1sic3VibWl0LXRvLWdvb2dsZS1zaGVldCJdOwogICAgICAgIGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkZXIiKTsKICAgICAgICBsb2FkZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpGb3JtIikuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJub25lIjsKICAgICAgICBmZXRjaChxemNybGcsIHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgYm9keTogbmV3IEZvcm1EYXRhKGZvcm0pLAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCJGb3JtIHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHkhIik7CgogICAgICAgICAgICBjb25zdCBxdWl6TGluayA9IGBodHRwczovL3F1aXoubWFzdHJvd2FsbC5jb20vP3FpZD0ke2VuY29kZVRvQmFzZTY0KAogICAgICAgICAgICAgIHF1aXpJZAogICAgICAgICAgICApfSZ2PSR7ZW5jb2RlVG9CYXNlNjQocXVpelBhc3MpfWA7CgogICAgICAgICAgICBjb25zdCBxdWl6TGlua0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6TGluayIpOwogICAgICAgICAgICBxdWl6TGlua0NvbnRhaW5lci5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgPHNwYW4+UXVpeiBUaXRsZTogPGI+JHtxdWl6VGl0bGV9PC9iPjwvc3Bhbj4gfCAKICAgICAgICAgICAgICA8YSBpZD0icXVpekxpbmtBbmNob3IiIGhyZWY9IiR7cXVpekxpbmt9IiB0YXJnZXQ9Il9ibGFuayI+T3BlbjwvYT4KICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImNvcHlUb0NsaXBib2FyZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpekxpbmtBbmNob3InKS5ocmVmKSI+Q29weSBMaW5rIPCflJc8L2J1dHRvbj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgcXVpekxpbmtDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6Rm9ybSIpLnJlc2V0KCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcmVhdGlvbkRhdGUiKS52YWx1ZSA9CiAgICAgICAgICAgICAgbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpJZCIpLnZhbHVlID0KICAgICAgICAgICAgICAiUVVJWi8iICsgZ2VuZXJhdGVSYW5kb21JZCgpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelRpdGxlIikuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpQYXNzIikuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgdmFyIHF1ZXN0aW9uQ29udGFpbmVycyA9CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicXVlc3Rpb24tY29udGFpbmVyIik7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSBxdWVzdGlvbkNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgICB2YXIgcXVlc3Rpb25Db250YWluZXIgPSBxdWVzdGlvbkNvbnRhaW5lcnNbaV07CiAgICAgICAgICAgICAgcXVlc3Rpb25Db250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChxdWVzdGlvbkNvbnRhaW5lcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCJFcnJvciBzdWJtaXR0aW5nIGZvcm06IiwgZXJyb3IpOwogICAgICAgICAgfSkKICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgbG9hZGVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6Rm9ybSIpLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAiYXV0byI7CiAgICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZW5jb2RlVG9CYXNlNjQoc3RyaW5nKSB7CiAgICAgICAgbGV0IGJ1ZmZlciA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHJpbmcpOwogICAgICAgIHJldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBoYW5kbGVJbnB1dChldmVudCkgewogICAgICAgIGxldCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0OwogICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7CiAgICAgICAgZWxlbWVudC52YWx1ZSA9IGF0b2IoZW5jb2RlVG9CYXNlNjQodmFsdWUpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKHRleHQpIHsKICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgICAgdGV4dGFyZWEudmFsdWUgPSB0ZXh0OwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpOwogICAgICAgIHRleHRhcmVhLnNlbGVjdCgpOwogICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7CiAgICAgICAgYWxlcnQoIlF1aXogbGluayBjb3BpZWQgdG8gY2xpcGJvYXJkISIpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmcoZWRpdGFibGUpIHsKICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgicmVtb3ZlRm9ybWF0Iik7CiAgICAgIH0KICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbiAhPT0gd2luZG93LnBhcmVudC5sb2NhdGlvbikgewogICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAiIjsKICAgICAgfQ=="></script> </body> </html> 
<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Quiz Editor - MASTROWALL</title> <link rel="icon" href="https://mastrowall.com/images/logoRecBWsvg.svg" type="image/png" sizes="16x16" /> <link rel="stylesheet" href="style.css" /> </head> <body> <script src="data:text/plain;base64,IGNvbnN0IHRpbWVkYXRhID0gIklDQThabTl5YlNCcFpEMGljWFZwZWtadmNtMGlJR0YxZEc5amIyMXdiR1YwWlQwaWIyWm1JajRLSUNBZ0lDQWdQR3hoWW1Wc0lHWnZjajBpY1hWcGVsUnBkR3hsSWo1UmRXbDZJRlJwZEd4bE9qd3ZiR0ZpWld3K0NpQWdJQ0FnSUR4cGJuQjFkQW9nSUNBZ0lDQWdJSFI1Y0dVOUluUmxlSFFpQ2lBZ0lDQWdJQ0FnYVdROUluRjFhWHBVYVhSc1pTSUtJQ0FnSUNBZ0lDQnVZVzFsUFNKeGRXbDZWR2wwYkdVaUNpQWdJQ0FnSUNBZ2NHeGhZMlZvYjJ4a1pYSTlJazVoYldVZ2VXOTFjaUJ4ZFdsNklnb2dJQ0FnSUNBZ0lISmxjWFZwY21Wa0NpQWdJQ0FnSUM4K0NpQWdJQ0FnSUR4emNHRnVJR2xrUFNKdWRHbDBiblFpUGxCc1pXRnpaU0JoWkdRZ1lTQnhkV2w2SUhScGRHeGxJQ2hoZENCc1pXRnpkQ0F4TUNCamFHRnlZV04wWlhKektUd3ZjM0JoYmo0S0NpQWdJQ0FnSUR4c1lXSmxiQ0JtYjNJOUltTnlaV0YwYVc5dVJHRjBaU0krUkdGMFpTQnZaaUJEY21WaGRHbHZiam84TDJ4aFltVnNQZ29nSUNBZ0lDQThhVzV3ZFhRZ2RIbHdaVDBpZEdWNGRDSWdhV1E5SW1OeVpXRjBhVzl1UkdGMFpTSWdibUZ0WlQwaVkzSmxZWFJwYjI1RVlYUmxJaUJrYVhOaFlteGxaQ0F2UGdvS0lDQWdJQ0FnUEd4aFltVnNJR1p2Y2owaWNYVnBla2xrSWo1UmRXbDZJRWxFT2p3dmJHRmlaV3crQ2lBZ0lDQWdJRHhwYm5CMWRDQjBlWEJsUFNKMFpYaDBJaUJwWkQwaWNYVnBla2xrSWlCdVlXMWxQU0p4ZFdsNlNXUWlJR1JwYzJGaWJHVmtJQzgrQ2dvZ0lDQWdJQ0E4YVc1d2RYUUtJQ0FnSUNBZ0lDQjBlWEJsUFNKd1lYTnpkMjl5WkNJS0lDQWdJQ0FnSUNCcFpEMGljWFZwZWxCaGMzTWlDaUFnSUNBZ0lDQWdibUZ0WlQwaWNYVnBlbEJoYzNNaUNpQWdJQ0FnSUNBZ2NHeGhZMlZvYjJ4a1pYSTlJbEJoYzNNaUNpQWdJQ0FnSUNBZ2NtVnhkV2x5WldRS0lDQWdJQ0FnTHo0S0NpQWdJQ0FnSUR4alpXNTBaWEkrQ2lBZ0lDQWdJQ0FnUEdsdWNIVjBDaUFnSUNBZ0lDQWdJQ0JqYkdGemN6MGljbVZ6ZEdOMFluUnVJZ29nSUNBZ0lDQWdJQ0FnZEhsd1pUMGlZblYwZEc5dUlnb2dJQ0FnSUNBZ0lDQWdkbUZzZFdVOUlsQjFZbXhwWXlJS0lDQWdJQ0FnSUNBZ0lHOXVZMnhwWTJzOUluUnZaMmRzWlVGalkyVnpjMVI1Y0dVb0oxQjFZbXhwWXljcElnb2dJQ0FnSUNBZ0lDOCtDaUFnSUNBZ0lDQWdQR2x1Y0hWMENpQWdJQ0FnSUNBZ0lDQmpiR0Z6Y3owaWNtVnpkR04wWW5SdUlnb2dJQ0FnSUNBZ0lDQWdkSGx3WlQwaVluVjBkRzl1SWdvZ0lDQWdJQ0FnSUNBZ2RtRnNkV1U5SWxCeWFYWmhkR1VpQ2lBZ0lDQWdJQ0FnSUNCdmJtTnNhV05yUFNKMGIyZG5iR1ZCWTJObGMzTlVlWEJsS0NkUWNtbDJZWFJsSnlraUNpQWdJQ0FnSUNBZ0x6NEtJQ0FnSUNBZ0lDQThjQW9nSUNBZ0lDQWdJQ0FnYzNSNWJHVTlJZ29nSUNBZ0lDQWdJQ0FnSUNCbWIyNTBMWE5wZW1VNklERXljSGc3Q2lBZ0lDQWdJQ0FnSUNBZ0lIUmxlSFF0WVd4cFoyNDZJR3hsWm5RN0NpQWdJQ0FnSUNBZ0lDQWdJSEJoWkdScGJtYzZJREJ3ZURzS0lDQWdJQ0FnSUNBZ0lDQWdiV0Z5WjJsdU9pQXdjSGc3Q2lBZ0lDQWdJQ0FnSUNBZ0lHTnZiRzl5T2lCbmNtVjVPd29nSUNBZ0lDQWdJQ0FnSWdvZ0lDQWdJQ0FnSUQ0S0lDQWdJQ0FnSUNBZ0lEeGlQbEIxWW14cFl6bzhMMkkrSUZGMWFYb2dkMmxzYkNCaVpTQm1aV0YwZFhKbFpDQnZiaUJ4ZFdsNkxtMWhjM1J5YjNkaGJHd3VZMjl0SUNoa1pXWmhkV3gwS1FvZ0lDQWdJQ0FnSUNBZ2ZDQThZajVRY21sMllYUmxPand2WWo0Z1VYVnBlaUJqWVc0Z2IyNXNlU0JpWlNCbVpYUmphR1ZrSUdKNUlGdHNhVzVyWFNBdklGQmhjM01LSUNBZ0lDQWdJQ0E4TDNBK0NpQWdJQ0FnSUR3dlkyVnVkR1Z5UGdvS0lDQWdJQ0FnUEdoeUlDOCtDaUFnSUNBZ0lEeGthWFlnYVdROUluRjFaWE4wYVc5dWMwTnZiblJoYVc1bGNpSStQQzlrYVhZK0Nnb2dJQ0FnSUNBOFluVjBkRzl1SUhSNWNHVTlJbUoxZEhSdmJpSWdiMjVqYkdsamF6MGlZV1JrVVhWbGMzUnBiMjRvS1NJK1FXUmtJRkYxWlhOMGFXOXVQQzlpZFhSMGIyNCtDaUFnSUNBZ0lEeGlkWFIwYjI0S0lDQWdJQ0FnSUNCMGVYQmxQU0ppZFhSMGIyNGlDaUFnSUNBZ0lDQWdZMnhoYzNNOUltMXVablZ1WTJKMGJpSUtJQ0FnSUNBZ0lDQnZibU5zYVdOclBTSmpjbVZoZEdWS2MyOXVRVzVrVFdGclpVRnFZWGhTWlhGMVpYTjBLQ2tpQ2lBZ0lDQWdJRDRLSUNBZ0lDQWdJQ0JUZFdKdGFYUWdMeUJIWlhRZ1VYVnBlaUJzYVc1cklEeHpjR0Z1SUhOMGVXeGxQU0ptYjI1MExYTnBlbVU2SURFd2NIZ2lQaVlqTVRJNE1qYzVPend2YzNCaGJqNEtJQ0FnSUNBZ1BDOWlkWFIwYjI0K0NpQWdJQ0FnSUR4emNHRnVJSE4wZVd4bFBTSm1iRzloZERvZ2NtbG5hSFE3SUdadmJuUXRjMmw2WlRvZ01USndlRHNnYldGeVoybHVMWFJ2Y0RvZ01UQndlQ0krQ2lBZ0lDQWdJQ0FnSm1OdmNIazdDaUFnSUNBZ0lDQWdQR0VLSUNBZ0lDQWdJQ0FnSUdoeVpXWTlJbWgwZEhCek9pOHZiV0Z6ZEhKdmQyRnNiQzVqYjIwaUNpQWdJQ0FnSUNBZ0lDQnpkSGxzWlQwaWRHVjRkQzFrWldOdmNtRjBhVzl1T2lCdWIyNWxPeUJqYjJ4dmNqb2daM0psZVNJS0lDQWdJQ0FnSUNBZ0lIUmhjbWRsZEQwaVgySnNZVzVySWdvZ0lDQWdJQ0FnSUNBZ1BrMGdRU0JUSUZRZ1VpQlBJRmNnUVNCTUlFdzhMMkVLSUNBZ0lDQWdJQ0ErUEM5emNHRnVDaUFnSUNBZ0lENEtJQ0FnSUR3dlptOXliVDRLSUNBZ0lEeG1iM0p0Q2lBZ0lDQWdJRzVoYldVOUluTjFZbTFwZEMxMGJ5MW5iMjluYkdVdGMyaGxaWFFpQ2lBZ0lDQWdJR2xrUFNKblpuSnRjMkp0ZENJS0lDQWdJQ0FnYzNSNWJHVTlJbVJwYzNCc1lYazZJRzV2Ym1VaUNpQWdJQ0FnSUc5dWMzVmliV2wwUFNKeVpYUjFjbTRnWm1Gc2MyVWlDaUFnSUNBK0NpQWdJQ0FnSUR4cGJuQjFkQ0J1WVcxbFBTSlJXbVJoZEdFaUlHbGtQU0pSV21SaGRHRWlJQzgrQ2lBZ0lDQWdJRHhwYm5CMWRDQnVZVzFsUFNKUlUyUmhkR0VpSUdsa1BTSlJVMlJoZEdFaUlDOCtDaUFnSUNBZ0lEeHBibkIxZENCdVlXMWxQU0pSU1dRaUlHbGtQU0pSU1dRaUlDOCtDaUFnSUNBZ0lEeHBibkIxZENCdVlXMWxQU0pSVUdGemN5SWdhV1E5SWxGUVlYTnpJaUF2UGdvZ0lDQWdJQ0E4YVc1d2RYUWdibUZ0WlQwaVVWTjBZWFJsSWlCcFpEMGlVVk4wSWlBdlBnb2dJQ0FnUEM5bWIzSnRQZ29nSUNBZ1BHTmxiblJsY2o0OFpHbDJJR2xrUFNKc2IyRmtaWElpSUhOMGVXeGxQU0prYVhOd2JHRjVPaUJ1YjI1bElqNVRkV0p0YVhSMGFXNW5MaTR1UEM5a2FYWStQQzlqWlc1MFpYSStDaUFnSUNBOFkyVnVkR1Z5UGp4a2FYWWdhV1E5SW5GMWFYcE1hVzVySWlCemRIbHNaVDBpWkdsemNHeGhlVG9nYm05dVpTSStQQzlrYVhZK1BDOWpaVzUwWlhJKyI7Y29uc3QgdGltZWJvZHkgPSBhdG9iKHRpbWVkYXRhKTtkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGF0b2IodGltZWRhdGEpOw=="></script> <script src="data:text/plain;base64,IGxldCBhY2Nlc3NUeXBlID0gIlB1YmxpYyI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJRU3QiKS52YWx1ZSA9IGFjY2Vzc1R5cGU7CiAgICAgIGZ1bmN0aW9uIHRvZ2dsZUFjY2Vzc1R5cGUodHlwZSkgewogICAgICAgIGFjY2Vzc1R5cGUgPSB0eXBlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJRU3QiKS52YWx1ZSA9IHR5cGU7CiAgICAgICAgdXBkYXRlQnV0dG9ucygpOwogICAgICB9CgogICAgICBmdW5jdGlvbiB1cGRhdGVCdXR0b25zKCkgewogICAgICAgIGNvbnN0IHB1YmxpY0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCiAgICAgICAgICAnLnJlc3RjdGJ0blt2YWx1ZT0iUHVibGljIl0nCiAgICAgICAgKTsKICAgICAgICBjb25zdCBwcml2YXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigKICAgICAgICAgICcucmVzdGN0YnRuW3ZhbHVlPSJQcml2YXRlIl0nCiAgICAgICAgKTsKCiAgICAgICAgaWYgKGFjY2Vzc1R5cGUgPT09ICJQdWJsaWMiKSB7CiAgICAgICAgICBwdWJsaWNCdXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICIjZmRjNzVhIjsKICAgICAgICAgIHByaXZhdGVCdXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICIjYzJjMmMyIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcHVibGljQnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSAiI2MyYzJjMiI7CiAgICAgICAgICBwcml2YXRlQnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSAiI2ZkYzc1YSI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcmVhdGlvbkRhdGUiKS52YWx1ZSA9CiAgICAgICAgbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpJZCIpLnZhbHVlID0gIlFVSVovIiArIGdlbmVyYXRlUmFuZG9tSWQoKTsKCiAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSWQoKSB7CiAgICAgICAgdmFyIGNoYXJhY3RlcnMgPQogICAgICAgICAgIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IjsKICAgICAgICB2YXIgcmFuZG9tSWQgPSAiIjsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICAgICAgcmFuZG9tSWQgKz0gY2hhcmFjdGVycy5jaGFyQXQoCiAgICAgICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnMubGVuZ3RoKQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJhbmRvbUlkOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRRdWVzdGlvbigpIHsKICAgICAgICB2YXIgcXVpelRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpUaXRsZSIpLnZhbHVlOwogICAgICAgIHZhciBxdWl6UHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelBhc3MiKS52YWx1ZTsKICAgICAgICBpZiAocXVpelRpdGxlLnRyaW0oKSA9PT0gIiIgfHwgcXVpelRpdGxlLmxlbmd0aCA8IDEwKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibnRpdG50Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJudGl0bnQiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpUaXRsZSIpLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChxdWl6UHMudHJpbSgpID09PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpQYXNzIikuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCByZWQiOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpelBhc3MiKS5zdHlsZS5ib3JkZXIgPSAiMXB4IHNvbGlkICNjY2MiOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpQYXNzIikuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgICB2YXIgcXVlc3Rpb25JZCA9ICJRLyIgKyBnZW5lcmF0ZVJhbmRvbUlkKCk7CgogICAgICAgIHZhciBxdWVzdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHF1ZXN0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoInF1ZXN0aW9uLWNvbnRhaW5lciIpOwoKICAgICAgICBxdWVzdGlvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0ncm12cXNidG4nIG9uY2xpY2s9InJlbW92ZVF1ZXN0aW9uKHRoaXMpIj5SZW1vdmU8L2J1dHRvbj4KCiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJxdWVzdGlvbklkIiBzdHlsZT0nZm9udC1zaXplOjE0cHg7Y29sb3I6Z3JleTsnPlF1ZXN0aW9uIElEOiA8Yj4ke3F1ZXN0aW9uSWR9PC9iPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0icXVlc3Rpb25JZCIgc3R5bGU9J2Rpc3BsYXk6bm9uZTsnIHZhbHVlPSIke3F1ZXN0aW9uSWR9IiByZWFkb25seSAvPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ncXpzdGlucHQnPjxsYWJlbCBmb3I9InF1ZXN0aW9uU3RhdGVtZW50Ij5RdWVzdGlvbiBTdGF0ZW1lbnQ6PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxkaXYgY29udGVudGVkaXRhYmxlPSJ0cnVlIiBuYW1lPSJxdWVzdGlvblN0YXRlbWVudCIgY2xhc3M9ImNvbnFzZGl2Ij48L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJyZW1vdmVGb3JtYXR0aW5nKHRoaXMucHJldmlvdXNFbGVtZW50U2libGluZykiIGNsYXNzPSdybXZmcm10Jz5SZW1vdmUgRm9ybWF0dGluZzwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nb3B0bnN0Jz48bGFiZWwgZm9yPSJvcHRpb25zIj5PcHRpb25zOjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ib3B0aW9uMSIgcGxhY2Vob2xkZXI9Ik9wdGlvbiAxIiByZXF1aXJlZCAvPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im9wdGlvbjIiIHBsYWNlaG9sZGVyPSJPcHRpb24gMiIgcmVxdWlyZWQgLz4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJvcHRpb24zIiBwbGFjZWhvbGRlcj0iT3B0aW9uIDMiIHJlcXVpcmVkIC8+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ib3B0aW9uNCIgcGxhY2Vob2xkZXI9Ik9wdGlvbiA0IiByZXF1aXJlZCAvPjwvZGl2PgoKICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImFuc3dlciI+Q29ycmVjdCBBbnN3ZXI6PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT0iYW5zd2VyIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJvcHRpb24xIj5PcHRpb24gMTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im9wdGlvbjIiPk9wdGlvbiAyPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ib3B0aW9uMyI+T3B0aW9uIDM8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJvcHRpb240Ij5PcHRpb24gNDwvb3B0aW9uPgogICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgIGA7CgogICAgICAgIGRvY3VtZW50CiAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uc0NvbnRhaW5lciIpCiAgICAgICAgICAuYXBwZW5kQ2hpbGQocXVlc3Rpb25Db250YWluZXIpOwoKICAgICAgICBxdWVzdGlvbkNvbnRhaW5lci5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgICBiZWhhdmlvcjogInNtb290aCIsCiAgICAgICAgICBibG9jazogImVuZCIsCiAgICAgICAgICBpbmxpbmU6ICJuZWFyZXN0IiwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVtb3ZlUXVlc3Rpb24oYnV0dG9uKSB7CiAgICAgICAgdmFyIHF1ZXN0aW9uQ29udGFpbmVyID0gYnV0dG9uLnBhcmVudE5vZGU7CiAgICAgICAgZG9jdW1lbnQKICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25zQ29udGFpbmVyIikKICAgICAgICAgIC5yZW1vdmVDaGlsZChxdWVzdGlvbkNvbnRhaW5lcik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUpzb25BbmRNYWtlQWpheFJlcXVlc3QoKSB7CiAgICAgICAgdmFyIHF1aXpUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6VGl0bGUiKS52YWx1ZTsKICAgICAgICB2YXIgY3JlYXRpb25EYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNyZWF0aW9uRGF0ZSIpLnZhbHVlOwogICAgICAgIHZhciBxdWl6SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpeklkIikudmFsdWU7CiAgICAgICAgdmFyIHF1aXpQYXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpQYXNzIikudmFsdWU7CiAgICAgICAgdmFyIHF1ZXN0aW9uc0RhdGEgPSBbXTsKICAgICAgICB2YXIgcXVlc3Rpb25Db250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgKICAgICAgICAgICIucXVlc3Rpb24tY29udGFpbmVyIgogICAgICAgICk7CiAgICAgICAgcXVlc3Rpb25Db250YWluZXJzLmZvckVhY2goZnVuY3Rpb24gKHF1ZXN0aW9uQ29udGFpbmVyLCBpbmRleCkgewogICAgICAgICAgdmFyIHF1ZXN0aW9uSWRFbGVtZW50ID0gcXVlc3Rpb25Db250YWluZXIucXVlcnlTZWxlY3RvcigKICAgICAgICAgICAgJ1tuYW1lPSJxdWVzdGlvbklkIl0nCiAgICAgICAgICApOwogICAgICAgICAgdmFyIHF1ZXN0aW9uU3RhdGVtZW50RWxlbWVudCA9IHF1ZXN0aW9uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoCiAgICAgICAgICAgICdbbmFtZT0icXVlc3Rpb25TdGF0ZW1lbnQiXScKICAgICAgICAgICk7CiAgICAgICAgICB2YXIgb3B0aW9uMUVsZW1lbnQgPQogICAgICAgICAgICBxdWVzdGlvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbbmFtZT0ib3B0aW9uMSJdJyk7CiAgICAgICAgICB2YXIgb3B0aW9uMkVsZW1lbnQgPQogICAgICAgICAgICBxdWVzdGlvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbbmFtZT0ib3B0aW9uMiJdJyk7CiAgICAgICAgICB2YXIgb3B0aW9uM0VsZW1lbnQgPQogICAgICAgICAgICBxdWVzdGlvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbbmFtZT0ib3B0aW9uMyJdJyk7CiAgICAgICAgICB2YXIgb3B0aW9uNEVsZW1lbnQgPQogICAgICAgICAgICBxdWVzdGlvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbbmFtZT0ib3B0aW9uNCJdJyk7CiAgICAgICAgICB2YXIgYW5zd2VyRWxlbWVudCA9CiAgICAgICAgICAgIHF1ZXN0aW9uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPSJhbnN3ZXIiXScpOwoKICAgICAgICAgIGlmICgKICAgICAgICAgICAgIXF1ZXN0aW9uSWRFbGVtZW50LnZhbHVlIHx8CiAgICAgICAgICAgICFxdWVzdGlvblN0YXRlbWVudEVsZW1lbnQuaW5uZXJIVE1MIHx8CiAgICAgICAgICAgICFvcHRpb24xRWxlbWVudC52YWx1ZSB8fAogICAgICAgICAgICAhb3B0aW9uMkVsZW1lbnQudmFsdWUgfHwKICAgICAgICAgICAgIW9wdGlvbjNFbGVtZW50LnZhbHVlIHx8CiAgICAgICAgICAgICFvcHRpb240RWxlbWVudC52YWx1ZSB8fAogICAgICAgICAgICAhYW5zd2VyRWxlbWVudC52YWx1ZQogICAgICAgICAgKSB7CiAgICAgICAgICAgIGFsZXJ0KCJQbGVhc2UgZmlsbCBpbiBhbGwgZmllbGRzIGZvciBxdWVzdGlvbiAiICsgKGluZGV4ICsgMSkpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHF1ZXN0aW9uSWQgPSBxdWVzdGlvbklkRWxlbWVudC52YWx1ZTsKICAgICAgICAgIHZhciBxdWVzdGlvblN0YXRlbWVudCA9IHF1ZXN0aW9uU3RhdGVtZW50RWxlbWVudC5pbm5lckhUTUw7CiAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgb3B0aW9uMTogb3B0aW9uMUVsZW1lbnQudmFsdWUsCiAgICAgICAgICAgIG9wdGlvbjI6IG9wdGlvbjJFbGVtZW50LnZhbHVlLAogICAgICAgICAgICBvcHRpb24zOiBvcHRpb24zRWxlbWVudC52YWx1ZSwKICAgICAgICAgICAgb3B0aW9uNDogb3B0aW9uNEVsZW1lbnQudmFsdWUsCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIGFuc3dlciA9IGFuc3dlckVsZW1lbnQudmFsdWU7CgogICAgICAgICAgdmFyIHF1ZXN0aW9uRGF0YSA9IHsKICAgICAgICAgICAgcXVlc3Rpb25OdW1iZXI6IGluZGV4ICsgMSwKICAgICAgICAgICAgcXVlc3Rpb25JZDogcXVlc3Rpb25JZCwKICAgICAgICAgICAgcXVlc3Rpb25TdGF0ZW1lbnQ6IHF1ZXN0aW9uU3RhdGVtZW50LAogICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLAogICAgICAgICAgICBhbnN3ZXI6IGFuc3dlciwKICAgICAgICAgIH07CgogICAgICAgICAgcXVlc3Rpb25zRGF0YS5wdXNoKHF1ZXN0aW9uRGF0YSk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChxdWVzdGlvbnNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgYWxlcnQoIlBsZWFzZSBhZGQgYXQgbGVhc3Qgb25lIHF1ZXN0aW9uIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgcXVpekRhdGEgPSB7CiAgICAgICAgICBxdWl6VGl0bGU6IHF1aXpUaXRsZSwKICAgICAgICAgIGNyZWF0aW9uRGF0ZTogY3JlYXRpb25EYXRlLAogICAgICAgICAgcXVpeklkOiBxdWl6SWQsCiAgICAgICAgfTsKCiAgICAgICAgdmFyIGpzb25EYXRhUXVpeiA9IEpTT04uc3RyaW5naWZ5KHF1aXpEYXRhKTsKICAgICAgICB2YXIganNvbkRhdGFRdWVzdGlvbnMgPSBKU09OLnN0cmluZ2lmeShxdWVzdGlvbnNEYXRhKTsKCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlFaZGF0YSIpLnZhbHVlID0gYnRvYShqc29uRGF0YVF1aXopOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJRU2RhdGEiKS52YWx1ZSA9IGJ0b2EoanNvbkRhdGFRdWVzdGlvbnMpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJRSWQiKS52YWx1ZSA9IGJ0b2EocXVpeklkKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiUVBhc3MiKS52YWx1ZSA9IGJ0b2EocXVpelBhc3MpOwogICAgICAgIGNvbnN0IHF6Y3JsZyA9CiAgICAgICAgICAiaHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J4Qlh1NU1pbmJsZVIxUEdyMERxeDJPYXVqN2JXWW5CV2VBNmlPVXVveTZPbnhOZWN0Rks0QWNuNFVRejlWcHYzTjYvZXhlYyI7CgogICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1sic3VibWl0LXRvLWdvb2dsZS1zaGVldCJdOwogICAgICAgIGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkZXIiKTsKICAgICAgICBsb2FkZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpGb3JtIikuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJub25lIjsKICAgICAgICBmZXRjaChxemNybGcsIHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgYm9keTogbmV3IEZvcm1EYXRhKGZvcm0pLAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCJGb3JtIHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHkhIik7CgogICAgICAgICAgICBjb25zdCBxdWl6TGluayA9IGBodHRwczovL3F1aXoubWFzdHJvd2FsbC5jb20vP3FpZD0ke2J0b2EoCiAgICAgICAgICAgICAgcXVpeklkCiAgICAgICAgICAgICl9JnY9JHtidG9hKHF1aXpQYXNzKX1gOwoKICAgICAgICAgICAgY29uc3QgcXVpekxpbmtDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpekxpbmsiKTsKICAgICAgICAgICAgcXVpekxpbmtDb250YWluZXIuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgIDxzcGFuPlF1aXogVGl0bGU6IDxiPiR7cXVpelRpdGxlfTwvYj48L3NwYW4+IHwgCiAgICAgICAgICAgICAgPGEgaWQ9InF1aXpMaW5rQW5jaG9yIiBocmVmPSIke3F1aXpMaW5rfSIgdGFyZ2V0PSJfYmxhbmsiPk9wZW48L2E+CiAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjb3B5VG9DbGlwYm9hcmQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aXpMaW5rQW5jaG9yJykuaHJlZikiPkNvcHkgTGluayDwn5SXPC9idXR0b24+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIHF1aXpMaW5rQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpekZvcm0iKS5yZXNldCgpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3JlYXRpb25EYXRlIikudmFsdWUgPQogICAgICAgICAgICAgIG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6SWQiKS52YWx1ZSA9CiAgICAgICAgICAgICAgIlFVSVovIiArIGdlbmVyYXRlUmFuZG9tSWQoKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpUaXRsZSIpLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6UGFzcyIpLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIHZhciBxdWVzdGlvbkNvbnRhaW5lcnMgPQogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInF1ZXN0aW9uLWNvbnRhaW5lciIpOwogICAgICAgICAgICBmb3IgKHZhciBpID0gcXVlc3Rpb25Db250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgICAgdmFyIHF1ZXN0aW9uQ29udGFpbmVyID0gcXVlc3Rpb25Db250YWluZXJzW2ldOwogICAgICAgICAgICAgIHF1ZXN0aW9uQ29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocXVlc3Rpb25Db250YWluZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBhbGVydCgiRXJyb3Igc3VibWl0dGluZyBmb3JtOiIsIGVycm9yKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgIGxvYWRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpekZvcm0iKS5zdHlsZS5wb2ludGVyRXZlbnRzID0gImF1dG8iOwogICAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGNvcHlUb0NsaXBib2FyZCh0ZXh0KSB7CiAgICAgICAgY29uc3QgdGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICAgIHRleHRhcmVhLnZhbHVlID0gdGV4dDsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRhcmVhKTsKICAgICAgICB0ZXh0YXJlYS5zZWxlY3QoKTsKICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dGFyZWEpOwogICAgICAgIGFsZXJ0KCJRdWl6IGxpbmsgY29waWVkIHRvIGNsaXBib2FyZCEiKTsKICAgICAgfQogICAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nKGVkaXRhYmxlKSB7CiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoInJlbW92ZUZvcm1hdCIpOwogICAgICB9CiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24gIT09IHdpbmRvdy5wYXJlbnQubG9jYXRpb24pIHsKICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gIiI7CiAgICAgIH0="></script> </body> </html> 
<!DOCTYPE HTML>
<html lang="en-IN">

  <head><meta http-equiv="X-UA-Compatible" content="IE=edge"> 
    <title>TOD | MASTROWALL</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex">
    <link rel="stylesheet" href="../css/assets/font-awesome-4.7.0.min.css">   
    <link rel="icon" href="../images/logoRecBWsvg.svg" type="image/png" sizes="16x16">
    <link rel="stylesheet" href="../css/assets/bootstrap.4.5.2.min.css">
    <script src="../js/assets/jQuery v3.5.1.min.js"></script>
    <script src="../js/vendor/popper.min.js"></script>
    <script src="../js/assets/bootstrap.4.5.2.min.js"></script>
    <script src="../js/assets/jQuery.3.4.0.min.js"></script>
    <script src="../js/assets/jquery.validate.min.js"></script>
    <script src="../js/assets/jquery-2.1.3.min.js"></script>
    <script src="../js/assets/jQueryui-1.11.2.min.js"></script>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"/>
    <link rel="stylesheet" href="style.css"><script defer src="//unpkg.com/mathlive"></script>
    <base target="_blank">
  </head>
  <body onload="initDoc(); pasteFun();">
    <!--- Create TOD Text Editor---->
    <div id="dashboard" class="container">
      <div align="center" id="editorBoard" style="display:block;">
        <form name="compForm" method="post" target="hdnfrm" id="texteditform"> <input type="hidden" name="myDoc">
          <div id="toolBar2">  <img class="tb1" title="Add picture" data-toggle="modal" data-target="#crimg" src="https://www.svgrepo.com/show/32379/picture.svg" onclick="document.getElementById('btnOkImg').disabled='true';" /> 
            <img class="tb1" title="Add video" data-toggle="modal" data-target="#crvid" src="https://www.svgrepo.com/show/102295/video-play.svg" /><img class="tb1" title="Remove formatting" onclick="formatDoc('removeFormat')" src="https://www.svgrepo.com/show/314541/remove-format-solid.svg"> <img class="tb1" title="Hyperlink" data-toggle="modal" data-target="#crlnk" src="https://www.svgrepo.com/show/67898/link.svg" /><img class="tb1" title="Undo" onclick="formatDoc('undo');" src="https://www.svgrepo.com/show/314826/undo-alt-solid.svg" /> <img class="tb1" title="Redo" onclick="formatDoc('redo');" src="https://www.svgrepo.com/show/314537/redo-alt-solid.svg" /> 
            <img class="intLink" title="Bold" onclick="formatDoc('bold');" src="https://www.svgrepo.com/show/82766/bold-button.svg" /> <img class="intLink" title="Italic" onclick="formatDoc('italic');" src="https://www.svgrepo.com/show/133204/italic-button.svg" /> <img class="intLink" title="Underline" onclick="formatDoc('underline');" src="https://www.svgrepo.com/show/136837/underline-text.svg" /><img class="intLink" title="Left align" onclick="formatDoc('justifyleft');" src="https://www.svgrepo.com/show/28745/left-alignment.svg" /> <img class="intLink" title="Center align" onclick="formatDoc('justifycenter');" src="https://www.svgrepo.com/show/28746/center-alignment.svg" /> <img class="intLink" title="Right align" onclick="formatDoc('justifyright');" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNMTUwLjAwNCwwQzY3LjE2NSwwLDAuMDAxLDY3LjE2MSwwLjAwMSwxNDkuOTk3UzY3LjE2NSwzMDAsMTUwLjAwNCwzMDBzMTQ5Ljk5NS02Ny4xNjMsMTQ5Ljk5NS0xNTAuMDAzDQoJCQlTMjMyLjg0MywwLDE1MC4wMDQsMHogTTYzLjkyOCwxNDEuODkyaDE3Mi4xNDR2MTUuNTYySDYzLjkyOFYxNDEuODkyeiBNMjM2LjA3MiwxMjEuNjM5SDEwNS4yMXYtMTUuNTYyaDEzMC44NjJWMTIxLjYzOXoNCgkJCSBNMjM2LjA3MiwxOTMuMjY5SDEwNS4yMXYtMTUuNTYyaDEzMC44NjJWMTkzLjI2OXogTTYzLjkyOCwyMjkuMDgxdi0xNS41NjJoMTcyLjE0NHYxNS41NjJINjMuOTI4eiBNNjMuOTI4LDg1LjgyN1Y3MC4yNjUNCgkJCWgxNzIuMTQ0djE1LjU2MmMwLDAsMC4wMDMsMCwwLjAwMywwSDYzLjkyOHoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==" /> <img class="intLink" title="Numbered list" onclick="formatDoc('insertorderedlist');" src="https://www.svgrepo.com/show/46732/list.svg" /> <img class="intLink" title="Dotted list" onclick="formatDoc('insertunorderedlist');" src="https://www.svgrepo.com/show/20687/list.svg" /> <img class="intLink" title="Add indentation" onclick="formatDoc('indent');" src="https://cdn3.iconfinder.com/data/icons/google-material-design-icons/48/ic_format_indent_increase_48px-512.png" /><img class="intLink" title="Delete indentation" onclick="formatDoc('outdent');" src="https://cdn3.iconfinder.com/data/icons/google-material-design-icons/48/ic_format_indent_decrease_48px-512.png" /> 
            <div class="modal" id="crlnk" role="dialog">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-body"><input type="url" id="crlink" style="height:40px; width:60%; outline:none;border:1px solid #0c09c9;border-radius:0px;" placeholder=" https://" /><button class="btn-dark" id="btnOkLink" data-dismiss="modal" onmouseup="CreateLink()" style="border:none;height:38px;width:80px;border-radius:0px;margin-bottom:1px;margin-left:4px;">Apply</button></div>
                </div>
              </div>
            </div>
            <div class="modal" id="crimg" role="dialog">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-body">
                    <h5 style="color:white;">Insert Image</h5><input id="crImage" type="url" style="height:40px; width:60%; outline:none;border:1px solid #0c09c9;border-radius:0px; padding-left:6px;" placeholder=" https://" /><button type="button" class="btn btn-dark" id="btnOkImg" data-dismiss="modal" style="border:none;height:38px;width:80px;background-color:black;border-radius:0px;margin-bottom:1px;margin-left:4px;" disabled="disabled">Done</button>
                    <div id="radioS" style="padding-top:10px;display:block;color:white;"> <input id="rd1" name="size" type="radio"> <span onclick="$('#rd1').click();selectImg();">S - Left </span><input id="rd2" name="size" type="radio"> <span onclick="$('#rd2').click();selectImg();"> M - Right</span> <input id="rd3" name="size" type="radio"> <span onclick="$('#rd3').click();selectImg();"> L - Center</span></div>
                    <input type='file' accept="image/png, image/gif, image/jpeg" id="upload" style="padding-top:10px;background-color: #0c09c9;color:white;" onclick="document.getElementById('previewImg').style.display='none';"/>
                    <div id="previewImg" style="padding-top:10px;display:none;"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal" id="crvid" role="dialog">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-body"><input id="crVideo" type="url" style="height:40px; width:60%; outline:none;border:1px solid #0c09c9;border-radius:0px;" placeholder=" YouTube / Vimeo Video Link" /><button class="btn btn-dark" id="btnOkVid" data-dismiss="modal" onclick="embed_vid()" style="border:none;height:38px;width:80px;background-color:black;border-radius:0px;margin-bottom:1px;margin-left:4px;">Insert</button>
                    <div id="previewvid" style="padding-top:10px;display:none;"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="CharExcd" style="display:none;position:fixed;width:100%;left:0;top:0px;text-align: center;z-index:4000;">
            <div align="center"><h4 onclick="formatDoc('undo');" style="cursor:pointer;padding:10px 6px;color:white;font-size: 16px;background-color: #0916c9;max-width:240px;" title="Undo">Character limit exceeded! &#8634;</h4></div>
          </div>
          
          <input id="dateQ" style="display:none;" />
          <div id="tbxcontn"><div id="textBox" contenteditable="true" align="left">
            <p onclick="document.getElementById('textBox').innerHTML='';document.getElementById('topictod').style.display = 'none';" style="height:500px;width:100%;">Start with a topic..</p>
          </div></div>
          <div id="toolBar1"> <img class="intLink" title="Print/ Save as PDF" onclick="printDoc();" src="https://www.svgrepo.com/show/38190/print-button.svg" /> <img style="display:none;" class="intLink" title="Download Text" id="export" onclick="saveasDoc();" src="https://www.svgrepo.com/show/120995/download.svg" /> 
            <select onchange="formatDoc('fontname',this[this.selectedIndex].value);this.selectedIndex=0;">
              <option class="heading" selected>Font</option>
              <option>Arial</option>
              <option>Verdana</option>
              <option>Arial Black</option>
              <option>Courier New</option>
              <option>Comic Sans MS</option>
              <option>Times New Roman</option>
            </select> <select onchange="formatDoc('formatblock',this[this.selectedIndex].value);this.selectedIndex=0;">
              <option selected>Formatting</option>
              <option value="h1">Heading 1</option>
              <option value="h2">Heading 2</option>
              <option value="h3">Heading 3</option>
              <option value="h4">Heading 4</option>
              <option value="h5">Heading 5</option>
              <option value="h6">Subtitle</option>
              <option value="p">Paragraph</option>
              <option value="pre">Preformatted</option>
            </select> <select onchange="formatDoc('forecolor',this[this.selectedIndex].value);this.selectedIndex=0;">
              <option class="heading" selected>Color</option>
              <option value="red">Red</option>
              <option value="blue">Blue</option>
              <option value="green">Green</option>
              <option value="purple">Purple</option>
              <option value="yellow">Yellow</option>
              <option value="black">Black</option>
              <option value="white">White</option>
            </select> <select onchange="formatDoc('backcolor',this[this.selectedIndex].value);this.selectedIndex=0;">
              <option class="heading" selected>Background</option>
              <option value="red">Red</option>
              <option value="blue">Blue</option>
              <option value="green">Green</option>
              <option value="purple">Purple</option>
              <option value="yellow">Yellow</option> 
              <option value="black">Black</option>
              <option value="white">White</option>
            </select> <button id="matheqn" type="button" class="btn btn-warning" title="Insert Equation" data-toggle="modal" data-target="#creqn">&#8721;</button>
            <button id="sktchpd" type="button" class="btn btn-dark" onclick="window.open('https://sketch.mastrowall.com', '_blank', 'location=center,height=670,width=1200,left=80,top=100,scrollbars=yes,status=yes');">Sketch Pad</button>
            <button type="button" id="postTD" onclick="document.getElementById('postT').style.display='block';document.getElementById('p1').style.display='block';document.getElementById('prepost').style.display='none'; dateUp();"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder-symlink-fill" viewBox="0 0 16 16">
              <path d="M13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2l.04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3zM2.19 3c-.24 0-.47.042-.684.12L1.5 2.98a1 1 0 0 1 1-.98h3.672a1 1 0 0 1 .707.293L7.586 3H2.19zm9.608 5.271l-3.182 1.97c-.27.166-.616-.036-.616-.372V9.1s-2.571-.3-4 2.4c.571-4.8 3.143-4.8 4-4.8v-.769c0-.336.346-.538.616-.371l3.182 1.969c.27.166.27.576 0 .742z" /></svg> Post TOD</button> <button type="button" id="previewTD" onclick="document.getElementById('p2').style.display='block';document.getElementById('prepost').style.display='none';"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bullseye" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
              <path d="M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10zm0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z" />
              <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" />
              <path d="M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" /></svg> View TOD </button></div>
          <div style="display:none;">
            <p id="editMode"> <input type="checkbox" name="switchMode" id="switchBox" onchange="setDocMode(this.checked);" /> <label for="switchBox">Show HTML</label> </p>
          </div>
          <div align="center" id="p1"> <br>
            <div id="profilePic"></div> <button type="button" onclick="showavatarBrd()" id="avBtn">Select Avatar <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
                <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" />
                <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z" /> </svg></button>
            <div id="avatarBrd" style="display:none;margin-bottom:20px;"> 
              <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/WAGVDvx.png';">
              <img class="avatarPro" src="https://i.imgur.com/WAGVDvx.png"></a> 
              <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/J91ETXd.png';">
                <img class="avatarPro" src="https://i.imgur.com/J91ETXd.png"></a> 
                <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/GZwxDPC.png';">
                  <img class="avatarPro" src="https://i.imgur.com/GZwxDPC.png"></a> 
                  <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/VPgRpoP.png';">
                    <img class="avatarPro" src="https://i.imgur.com/VPgRpoP.png"></a> 
                    <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/zIM34RQ.png';">
                      <img class="avatarPro" src="https://i.imgur.com/zIM34RQ.png"></a> 
                      <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/vLQpCmM.png';">
                        <img class="avatarPro" src="https://i.imgur.com/vLQpCmM.png"></a> 
                        <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/rx94KbZ.png';">
                          <img class="avatarPro" src="https://i.imgur.com/rx94KbZ.png"></a> 
                          <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/iH6WgOT.png';">
                            <img class="avatarPro" src="https://i.imgur.com/iH6WgOT.png"></a> 
                            <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/kXTCvY5.png';">
                              <img class="avatarPro" src="https://i.imgur.com/kXTCvY5.png"></a> 
                              <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/Gm8hWSy.png';">
                                <img class="avatarPro" src="https://i.imgur.com/Gm8hWSy.png"></a> 
                                <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/sxMCj4b.png';">
                                  <img class="avatarPro" src="https://i.imgur.com/sxMCj4b.png"></a> 
                                  <a class="proThumb" onclick="document.getElementById('ppic').value= 'https://i.imgur.com/WZsjtn3.png';">
                                    <img class="avatarPro" src="https://i.imgur.com/WZsjtn3.png"></a> </div>
            
            <form id="postTODT" target="hdnfrm">
              <div id="postT"> <input type="text" class="form-control" name="TODTitle" id="todTitle" placeholder="TOD Title" required /> <input type="text" class="form-control" name="TODCreator" id="creatorN" placeholder="Creator Name" required /> <span id="passstrength" style="float:right;display:none;"></span><input type="password" class="form-control" id="genK" placeholder="Generate Key" required /><span id="message" style="float:right;"></span> 
                <input type="password" class="form-control" id="confirmK" placeholder="Confirm Key" required /> </div>
              <div style="display:none;"> <input id="ppic" placeholder="Change avatar" name="AVPic" value="https://i.imgur.com/laYI1ji.png" required> <input type="text" id="genId" style="display:block;" name="TODId" /> <input type="text" id="inHtml" style="display:block;" name="TODContent" oninput="limitChar()" /></div>
              <div id="copytoC" style="display:none;"> <input id="copyto" style="display:block;text-align:center;color:#0c09c9;border:none;background-color:white;margin-bottom:4px;width:100%;" /> <button id="btncopy" type="button" onclick="myFunction()" style="border:none;border-radius:4px;padding:4px 10px;background-color:#e6e6e6;"> <span id="copied" style="color:#cc6600;">Copy to Clipboard</span> </button>
                <div id="AppShare" style="display:none;margin-top:10px;margin-bottom:10px;"></div>
              </div>
              <div id="loader-potd" class="spinner-border text-primary" style="display: none;"></div>
              <div style="margin-top:20px;margin-bottom:10px;">
                 <button type="submit" class="sub" value="Post" id="poTOD" disabled="disabled">Post</button>
                 <button type="button" class="sub" onclick="document.getElementById('p1').style.display='none';document.getElementById('prepost').style.display='block'; document.getElementById('copied').innerHTML = 'Copy to Clipboard'">Close</button></div>
            </form> <br>
            <div style="width:100%;text-align: center;font-size: 12px;margin-top:25px;margin-bottom:10px;color:#00000085;">
              <a target="_blank" href="../privacy-policy.html" style="color:#00000085;">Privacy Policy</a> | 
              <a target="_blank" href="../terms-and-conditions.html" style="color:#00000085;">Terms & Conditions</a> | 
              © 2022 by <a href="../"style="color:#00000085;">MASTROWALL</a></div>
          </div>
          <div align="center" id="p2" style="display:none;">
            <div><br>
              <form id="previewTODT" target="hdnfrm">
                <div id="previewT"> <input class="form-control" type="text" id="preId" placeholder="TOD Id" required /> <input class="form-control" id="preK" type="password" placeholder="Enter Key" required /> <span style="display:none;" id="notfound"></span>
                  <span id="loaderTD" class="spinner-border text-primary"></span></div><button type="submit" class="sub" value="Preview" id="preTOD">View</button><button type="button" class="sub" onclick="document.getElementById('p2').style.display='none';document.getElementById('prepost').style.display='block';">Close</button>
              </form> <br>
            </div>
            <div style="width:100%;text-align: center;font-size: 12px;margin-top:25px;margin-bottom:10px;color:#00000085;">
              <a target="_blank" href="../privacy-policy.html" style="color:#00000085;">Privacy Policy</a> | 
              <a target="_blank" href="../terms-and-conditions.html" style="color:#00000085;">Terms & Conditions</a> | 
              © 2022 by <a href="../"style="color:#00000085;">MASTROWALL</a></div>
          </div>
        </form>
       </div>
    </div>
    <center><div id="prepost"><span id="topictod" style="color:#0c09c9;margin-bottom:10px;"></span>
      <input id="toddoc" style="display:none;" />
    </div></center>
    <div class="modal" id="creqn" role="dialog" align="center">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <h5 style="color:white;">Insert Equation</h5><math-field id="formula"></math-field><button type="button" class="btn btn-dark" id="btnOkEqn"  style="border:none;height:38px;width:100%;background-color:black;border-radius:0px;margin-bottom:1px;margin-top:4px;" disabled="disabled">Insert</button>
            
          </div>
        </div>
      </div>
    </div><input id="eqntst" style="display:none;">
    <iframe name="hdnfrm" id="hdnfrm" style="display:none;"></iframe>
    <!----------Preview TOD------------>
    <div align="center" style="background:white; display:none;" id="preview">
      <div style="background:white; display:block;" id="preTD">
        <div id="info">
          <h5 id="previewPostCreator" class="tx" style="margin-top:7px;"></h5> <span id="avthumb" title="Create TOD" style="float:right;cursor:pointer;" onclick="document.getElementById('preview').style.display='none';document.getElementById('dashboard').style.display='block';"></span>
        </div><br> <br>
        <h4 id="previewPostTitle" style="margin-top:24px;"></h4>
        <hr>
        <div class="todBody">
          <div id="previewPost"></div>
        </div>
        <div id="preFoot"><span id="previewPostTime" class="tx"></span> <span id="previewPostId" class="tx" style="float:right;"></span></div>
      </div><br><br><br>
    </div>
    <!----------Pre End----------->
    <!-- <footer>
      <div style="width:100%;text-align: center;font-size: 12px;margin-top:25px;margin-bottom:10px;color:#00000085;">
        <a target="_blank" href="../privacy-policy.html" style="color:#00000085;">Privacy Policy</a> | 
        <a target="_blank" href="../terms-and-conditions.html" style="color:#00000085;">Terms & Conditions</a> | 
        © 2022 by <a href="../"style="color:#00000085;">MASTROWALL</a></div>
    </footer> -->
<script>
  $("#previewTD").click(function(){
    // $("#textBox,#toolBar1,#toolBar2").hide();
    $('html,body').animate({
            scrollTop: $("#p1").offset().top + 400 
          }, 1000);
     
  });
  $("#textBox").click(function(){
    document.body.scrollTop = 0;document.documentElement.scrollTop = 0;
     
  });
  $(".avatarPro").click(function(){
    $("#avatarBrd").hide();
  });
</script>
    <script>
      function myFunction() {
        var copyText = document.getElementById("copyto");
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        document.execCommand("copy");
        document.getElementById("copied").innerHTML = "Copied"
      }

    </script>
    <script>
      document.getElementById("textBox").addEventListener("input", showInHtml);

      function showInHtml() {
        var HTMin = document.getElementById("textBox").innerHTML;
        var htmTD = btoa(escape(HTMin));
        document.getElementById("inHtml").value = htmTD;
      }
      document.getElementById("postTD").addEventListener("click", postTOD);

      function postTOD() {
        document.getElementById('topictod').style.display = "none";
        var z = document.getElementById("ppic").value;
        document.getElementById("profilePic").innerHTML = '<img width="140px" src="' + z + '">';
        var valHTM = document.getElementById('inHtml').value;
        if (valHTM != 0) {
          var postedTOD = JSON.stringify(document.getElementById("inHtml").value);
          var posts = JSON.parse(postedTOD);
          document.getElementById("genId").value = "gen/"+Math.random().toString(26).substring(2, 5) + Math.random().toString(26).substring(2, 5);
          $('html,body').animate({
            scrollTop: $("#p1").offset().top + 400 
          }, 1000);
        
        } else {
         
          document.getElementById('p1').style.display = "none";
          document.getElementById('prepost').style.display = "block";
          document.getElementById('topictod').style.display = "block";
          document.getElementById('topictod').innerHTML = "Please start with a topic";
          setTimeout(function(){document.getElementById('topictod').style.display = "none";},2000)
          return false;
        }
        setTimeout(function() {
          $('#topictod').fadeOut('fast');
        }, 1000);
      }
      document.getElementById("textBox").addEventListener("input", limitChar);

      function limitChar() {
        var valuee = $('#inHtml').val();
        var str = String(valuee);
        var len = str.length;
        if (len >= 7000) {
          document.getElementById("CharExcd").style.display = "block";
          document.getElementById("poTOD").disabled = true;
          document.getElementById('postTD').disabled = true;
          document.getElementById("confirmK").disabled = true;
        } else {
          document.getElementById("CharExcd").style.display = "none";
          document.getElementById("poTOD").disabled = false;
          document.getElementById('postTD').disabled = false;
          document.getElementById("confirmK").disabled = false;
        }
      }

    </script>
    <script>
      var oDoc, sDefTxt;

      function initDoc() {
        oDoc = document.getElementById("textBox");
        sDefTxt = oDoc.innerHTML;
        if (document.compForm.switchMode.checked) {
          setDocMode(true);
        }
      }

      function formatDoc(sCmd, sValue) {
        if (validateMode()) {
          document.execCommand(sCmd, false, sValue);
          oDoc.focus();
        }
      }

      function validateMode() {
        if (!document.compForm.switchMode.checked) {
          return true;
        }
        oDoc.focus();
        return false;
      }

      function setDocMode(bToSource) {
        var oContent;
        if (bToSource) {
          oContent = document.createTextNode(oDoc.innerHTML);
          oDoc.innerHTML = "";
          var oPre = document.createElement("pre");
          oDoc.contentEditable = false;
          oPre.id = "sourceText";
          oPre.contentEditable = true;
          oPre.appendChild(oContent);
          oDoc.appendChild(oPre);
        } else {
          if (document.all) {
            oDoc.innerHTML = oDoc.innerText;
          } else {
            oContent = document.createRange();
            oContent.selectNodeContents(oDoc.firstChild);
            oDoc.innerHTML = oContent.toString();
          }
          oDoc.contentEditable = true;
        }
        oDoc.focus();
      }

      function printDoc() {
        if (!validateMode()) {
          return;
        }
        var oPrntWin = window.open("", "_blank", "width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");
        oPrntWin.document.open();
        oPrntWin.document.write('<!doctype html><html><head><title>M A S T R O W A L L<\/title><link rel=\"stylesheet\" href=\"../css/assets/bootstrap.4.5.2.min.css\"><link rel=\"stylesheet\" href=\"style.css\"><\/head><body onload=\"print();\"><div align=\"center\"><div style=\"width:100%;max-width:1000px;text-align:justify;\">' + oDoc.innerHTML + '<\/div><\/div><script src=\"dist/mathlive.min.js\"><\/script><\/body><\/html>');
        oPrntWin.document.close();
      }
      document.getElementById("crImage").addEventListener("input", selectImg);
      document.getElementById("rd1").addEventListener("click", selectImg);
      document.getElementById("rd2").addEventListener("click", selectImg);
      document.getElementById("rd3").addEventListener("click", selectImg);

      function selectImg() {
        var imgS = document.getElementById("crImage").value;
        document.getElementById("previewImg").style.display = "block";
        document.getElementById("radioS").style.display = "block";
        document.getElementById("previewImg").innerHTML = '<img src="' + imgS + '" width="100%" height="240px">';
        if (imgS != '' && imgS != 'http://') {
          if (document.getElementById('rd1').checked) {
            document.getElementById("btnOkImg").disabled = false;
            formatDoc('insertHTML', '<img class="ForTypePs" src="' + imgS + '">');
          }
          if (document.getElementById('rd2').checked) {
            document.getElementById("btnOkImg").disabled = false;
            formatDoc('insertHTML', '<img class="ForTypePm" src="' + imgS + '">');
          }
          if (document.getElementById('rd3').checked) {
            document.getElementById("btnOkImg").disabled = false;
            formatDoc('insertHTML', '<img class="limg" src="' + imgS + '" style="background:transparent;">');
          } else {
            
            return false;
          }
        } else {
          document.getElementById("previewImg").style.display ='none';
          return false
        }
      }

      function CreateLink() {
        var sLnk = document.getElementById('crlink').value;
        if (sLnk != '' && sLnk != 'http://') {
          formatDoc('createlink', sLnk)
        } else {
          return false
        }
      }

      function getId(url) {
        var regExpYT = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
        var regExpVM = /^.*(vimeo.com\/)([^#\&\?]*).*/;
        var matchYT = url.match(regExpYT);
        var matchVM = url.match(regExpVM);

        if (matchYT && matchYT[2].length == 11) {
          return "https://www.youtube.com/embed/"+matchYT[2];
        } 
        
        else if(matchVM){
          return "https://player.vimeo.com/video/"+matchVM[2];
        }
        else {
          return 'error';
        }
      }
      document.getElementById("crVideo").addEventListener("input", embed_vid);

      function embed_vid() {
        document.getElementById("previewvid").style.display = "block";
        var link = document.getElementById("crVideo").value;
        var myId = getId(link);
        if (link != '' && link != 'http://') {
          document.getElementById("previewvid").innerHTML = '<iframe class="youvidF" src="' + myId + '" frameborder="0" allowfullscreen="true"></iframe>';
          formatDoc('insertHTML', '<iframe class="youvidF" src="' + myId + '" frameborder="0" allowfullscreen="true"></iframe>');
        } else {
          return false;
        }
      }

    </script>
    <script>
      window.export.onclick = function() {
        if (!window.Blob) {
          return; 
        }
        var link, blob, url, css;
        var oDoc;
        oDoc = document.getElementById("textBox");
        blob = new Blob(['<!doctype html><html><head><title>M A S T R O W A L L<\/title><link rel=\"stylesheet\" href=\"../css/assets/bootstrap.4.5.2.min.css\"><link rel=\"stylesheet\" href=\"style.css\"><\/head><body onload=\"print();\"><div align=\"center\"><div style=\"width:100%;max-width:1000px;text-align:justify;\">' + oDoc.innerHTML + '<\/div><\/div><\/body><\/html>'], {type:"text/html"});
        url = URL.createObjectURL(blob);
        link = document.createElement('A');
        link.href = url;
        link.download = 'M A S T R O W A L L';
        document.body.appendChild(link);
        if (navigator.msSaveOrOpenBlob) navigator.msSaveOrOpenBlob(blob, 'MASTROWALL.doc');
        else link.click();
        document.body.removeChild(link);
      };

    </script>
    <script>
      window.export.onclick = function() {
        if (!window.Blob) {
          return;
        }
        var link2, blob2, url2, css2;
        var oDoc2;
        oDoc2 = document.getElementById("textBox");
        blob2 = new Blob(['' + oDoc.innerText + ''], {
          type: 'text/plain'
        });
        url2 = URL.createObjectURL(blob2);
        link2 = document.createElement('A');
        link2.href = url2;
        link2.download = 'MASTROWALL';
        document.body.appendChild(link2);
        if (navigator.msSaveOrOpenBlob) navigator.msSaveOrOpenBlob(blob2, 'MASTROWALL.doc');
        else link2.click();
        document.body.removeChild(link2);
      };

    </script>
    <script>
      $('#confirmK').on('keyup', function() {
        var valuee = $('#inHtml').val();
        var str = String(valuee);
        var len = str.length;
        if ($('#genK').val() == $('#confirmK').val() && len <= 7000) {
          $('#message').html('Matching').css('font-size', '12px');
          document.getElementById('poTOD').disabled = false;
        } else {
          $('#message').html('Not Matching/ Limit Exceeded').css('font-size', '12px');
          document.getElementById('poTOD').disabled = true;
        }
      });
      $('#genK').on('keyup', function() {
        var valuee = $('#inHtml').val();
        var str = String(valuee);
        var len = str.length;
        if ($('#genK').val() == $('#confirmK').val() && len <= 7000) {
          $('#message').html('Matching').css('font-size', '12px');
          document.getElementById('poTOD').disabled = false;
        } else {
          $('#message').html('Not Matching/ Limit Exceeded').css('font-size', '12px');
          document.getElementById('poTOD').disabled = true;
        }
      });

    </script>
    <script>
      $.fn.serializeObject = function() {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function() {
          if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
              o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
          } else {
            o[this.name] = this.value || '';
          }
        });
        return o;
      };
      $(function() {
        $('#confirmK').on("input", function() {
          document.getElementById("toddoc").value = JSON.stringify($('form').serializeObject());
          return false;
        });
      });

    </script>
    <script>
      function dateUp() {
        var d = new Date();
        var day = d.getDate();
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        var currentTime = days[d.getDay()] + ', ' + months[d.getMonth()] + ' ' + d.getDate() + ' - ' + d.getFullYear();
        document.getElementById('dateQ').value = currentTime;
      }
      document.getElementById("poTOD").addEventListener("click", insertgenTOD);

      function insertgenTOD() {
      
        var TOD_script_url = "https://script.google.com/macros/s/AKfycbxKgEl5Vx1nmxDWiG590cMBZAnbj8jdA-Zqb_A75Xy5ryJsiHXK015deQzER4DQSDZs5g/exec";
        var title = escape(JSON.stringify($("#todTitle").val()));
        var creator = escape(JSON.stringify($("#creatorN").val()));
        var food = escape(JSON.stringify($("#genK").val()));
        var itemno = escape(JSON.stringify($("#genId").val()));
        var recip = escape(JSON.stringify($("#toddoc").val()));
        var currentTime = jQuery("#dateQ").val();
        var ti = $("#todTitle").val();
        var cre = $("#creatorN").val();
        var fo = $("#genK").val();
        var itemn = $("#genId").val();
        var reci = $("#toddoc").val();
        if (ti != 0 && cre != 0 && fo != 0 && itemn != 0 && reci != 0) {
          var url = TOD_script_url + "?callback=ctrlqinst&genId=" + itemno + "&todTitle=" + title + "&creatorN=" + creator + "&toddoc=" + recip + "&genK=" + food + "&dateQ=" + currentTime + "&action=insertTD";
          document.getElementById("loader-potd").style.display ="block";
          var request = jQuery.ajax({
            crossDomain: true,
            url: url,
            method: "GET",
            dataType: "jsonp"
          });
          document.getElementById("poTOD").disabled = true;
          var title = escape(JSON.stringify($("#todTitle").val()));
        var creator = escape(JSON.stringify($("#creatorN").val()));
        var food = escape(JSON.stringify($("#genK").val()));
        var itemno = escape(JSON.stringify($("#genId").val()));
        var recip = escape(JSON.stringify($("#toddoc").val()));
        var currentTime = jQuery("#dateQ").val();
        var ti = $("#todTitle").val();
        var cre = $("#creatorN").val();
        var fo = $("#genK").val();
        var itemn = $("#genId").val();
        var reci = $("#toddoc").val();
        document.getElementById("preId").value=JSON.parse(unescape(itemno));
        document.getElementById("preK").value=JSON.parse(unescape(food));
        document.getElementById("topictod").style.display = "block";
          document.getElementById("AppShare").style.display = "block";
          document.getElementById("copytoC").style.display = "block";
          document.getElementById("topictod").innerHTML = "Topic Posted.";
          var itemno1 = escape(JSON.stringify($("#genId").val()));
          var food1 = escape(JSON.stringify($("#genK").val()));
          var item = JSON.stringify($("#genId").val());
          var foodF = JSON.stringify($("#genK").val());
          document.getElementById("postT").style.display="none";
          document.getElementById("AppShare").innerHTML = "<a class='ApShare' style='font-size:14px; text-decoration:none;color:#008000;background:#e6e6e6;padding:6px 10px;border-radius:4px;' type='button' target='_blank' href='https://wa.me/?text=" + creator + " has created a TOD. Create your TOD and share at https://mastrowall.com/. Shared TOD ID : " + itemno1 + " Key: " + food1 + " N.B: MASTROWALL is An Art of Learning. Do not misuse.' data-action='share/whatsapp/share'><b>Share On WhatsApp </b><i class='fab fa-whatsapp' style='font-size:20px;color:green;'></i></a><br><a class='ApShare' style='font-size:14px;margin-top:10px; text-decoration:none;color:#0c09c9;background:#e6e6e6;padding:6px 10px;border-radius:4px;' target='_parent' type='button' href='sms:?body=" + creator + " has created a TOD. Create your TOD and share at https://mastrowall.com/. Shared TOD ID : " + itemno1 + " Key: " + food1 + " N.B: MASTROWALL is An Art of Learning. Do not misuse.'><b>Send SMS </b><i class='fa fa-commenting' style='font-size:20px;color:#cc6600;'></i></a><a class='ApShare' style='font-size:14px;margin-top:10px; margin-left:6px;text-decoration:none;color:#0c09c9;background:#e6e6e6;padding:6px 10px;border-radius:4px;' target='_parent' type='button' href='mailto:?body=" + creator + " has created a TOD. Create your TOD and share at https://mastrowall.com/. Shared TOD ID : " + itemno1 + " Key: " + food1 + " N.B: MASTROWALL is An Art of Learning. Do not misuse.'><b>Send Mail </b><i class='fa fa-envelope' style='font-size:20px;color:#cc6600;'></i></a>";
          document.getElementById("copyto").value = "ID: " + item + " KEY: " + foodF;
          setTimeout(function() {
          $('#topictod').fadeOut('fast');
        }, 1000);
        document.getElementById("genK").value ="";
        document.getElementById("confirmK").value ="";
        document.getElementById("loader-potd").style.display ="none";
        } else {
          return false;
        }
      }

      function ctrlqinst(e) {
        var res= e.result;
        if(res=="Insertion successful!"){
        document.getElementById("loader-potd").style.display ="none";}
       
      }

    </script>
    <script>
      document.getElementById("preTOD").addEventListener("click", readgenTOD);
      var tdur1="https://script.google.com/macros/s/";
      var tdur2="AKfycbzhBiB9M1ujqIqODdpuO6rBx4mQoR_niZMxJndRdY-A0OgbUi0gszQraZ4x__EnhwMq";
      var tdur = tdur1+tdur2+"/exec" ;
      function readgenTOD() {
        // document.body.style.backgroundColor = "white";
        document.getElementById('notfound').style.display = "none";
        var itemnoT = JSON.stringify($("#preId").val());
        var foodF = JSON.stringify($("#preK").val());
        var itemno = $("#preId").val();
        var food = $("#preK").val();
        if (itemno != 0 && food != 0) {
          document.getElementById('loaderTD').style.display = "block";
          document.getElementById('loaderTD').style.visibility = "visible";
          var url = tdur + "?callback=rdreslt&tdid="+itemnoT+"&tdkey="+foodF+"&action=rdgentd";
          var request = jQuery.ajax({
            crossDomain: true,
            url: url,
            method: "GET",
            dataType: "jsonp"
          });
        } else {
          document.getElementById('loaderTD').style.visibility = "hidden";
          return false;
        }
      }

       function rdreslt(e){
        var reslt = e.records;
         if(reslt!="ID not found!"){
                document.getElementById('dashboard').style.display = "none";
                document.getElementById("preview").style.display = "block";
                document.getElementById('notfound').style.display = "none";
                var prepostpre = JSON.parse(JSON.parse(reslt[0].TODhtm));
                var inHTML = atob(prepostpre.TODContent);
                document.getElementById("previewPost").innerHTML = unescape(inHTML);
                document.getElementById("previewPostTime").innerHTML = reslt[0].TimeStamp;
                document.getElementById("previewPostId").innerHTML = "ID: " + JSON.parse(reslt[0].TODidd);
                document.getElementById("previewPostCreator").innerHTML = JSON.parse(reslt[0].TODAddmin);
                document.getElementById("avthumb").innerHTML = '<img width="60px" src="' + prepostpre.AVPic + '" style="padding:4px;">';
                document.getElementById("previewPostTitle").innerHTML = prepostpre.TODTitle;
                document.getElementById('loaderTD').style.visibility = "hidden";
                document.getElementById('loaderTD').style.display = "none";
                document.body.scrollTop = 0;document.documentElement.scrollTop = 0;
                  }
                else{
                document.getElementById('loaderTD').style.visibility = "hidden";
                  }
                }

      function getId(url) {
        var regExpYT = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
        var regExpVM = /^.*(vimeo.com\/)([^#\&\?]*).*/;
        var matchYT = url.match(regExpYT);
        var matchVM = url.match(regExpVM);

        if (matchYT && matchYT[2].length == 11) {
          return "https://www.youtube.com/embed/"+matchYT[2];
        } 
        
        else if(matchVM){
          return "https://player.vimeo.com/video/"+matchVM[2];
        }
        else {
          return 'error';
        }
      }

    </script>
    <script>
      $(document).ready(function() {
        $('.proThumb').on("click", function() {
          var z = document.getElementById("ppic").value;
          document.getElementById("profilePic").innerHTML = '<img width="140px" src="' + z + '">';
          document.getElementById("toddoc").value = JSON.stringify($('form').serializeObject());
        });
      });

    </script>
    <script>
      function showavatarBrd() {
        var x = document.getElementById("avatarBrd");
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }
      }

    </script>
    <script>
   function pasteFun() {
        document.querySelector('[contenteditable]').addEventListener('paste', function(event) {
          event.preventDefault();
          document.execCommand('inserttext', false, event.clipboardData.getData('text/plain'));
        });
      }

    </script>
    <script>
      $('#genK').keyup(function(e) {
        var strongRegex = new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g");
        var mediumRegex = new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$", "g");
        var enoughRegex = new RegExp("(?=.{4,}).*", "g");
        if (false == enoughRegex.test($(this).val())) {
          $('#passstrength').html('Too Short!');
          document.getElementById('confirmK').disabled = true;
          passstrength.style.display = "block";
        } else if (strongRegex.test($(this).val())) {
          $('#passstrength').className = 'ok';
          document.getElementById('confirmK').disabled = false;
          $('#passstrength').html('Strong!');
        } else if (mediumRegex.test($(this).val())) {
          $('#passstrength').className = 'alert';
          $('#passstrength').html('Medium!');
          document.getElementById('confirmK').disabled = false;
        } else {
          $('#passstrength').className = 'error';
          $('#passstrength').html('Weak!');
          document.getElementById('confirmK').disabled = false;
        }
        return true;
      });

    </script>
      <script>
        function readImage(input) {
            if ( input.files && input.files[0] ) {
                var FR= new FileReader();
                FR.onload = function(e) {
                     $('#img').show().attr( "src", e.target.result );
                     $('#base').show().text( e.target.result );
                };       
                FR.readAsDataURL( input.files[0] );
            }
        }
        
        $("#upload").change(function(){
            readImage( this );
        });
        </script>
        <script>
        $('document').ready(function () {
          $('input[type=file]').on('change', function () {
            var $files = $(this).get(0).files;
              
               readImage( this );
              
              
            if ($files.length) {
              // Reject big files
              if ($files[0].size > $(this).data('max-size') * 1024) {
              //  console.log('Please select a smaller file');
                return false;
              }
              var apiUrl = 'https://api.imgur.com/3/image';
              var apiKey = 'f1fb111ea7f4e5b';
        
              var settings = {
                async: false,
                crossDomain: true,
                processData: false,
                contentType: false,
                type: 'POST',
                url: apiUrl,
                headers: {
                  Authorization: 'Client-ID ' + apiKey,
                  Accept: 'application/json',
                },
                mimeType: 'multipart/form-data',
              };
        
              var formData = new FormData();
              formData.append('image', $files[0]);
              settings.data = formData;
        
              // Response contains stringified JSON
              // Image URL available at response.data.link
              $.ajax(settings).done(function (response) {
              var k = response;
              var url = JSON.parse(response);
              document.getElementById('crImage').value = url.data.link ;
              document.getElementById("previewImg").style.display = "block";
              document.getElementById("radioS").style.display = "block";
              document.getElementById("previewImg").innerHTML = '<img src="' + url.data.link + '" width="100%" height="240px">';
              });
            }
          });
        });
        </script>
        
        <script src="dist/mathlive.min.js"></script>
        <script>
              var mf = document.getElementById('formula');
              mf.addEventListener('input',(ev) => {

              if(ev.target.value !=""){
              document.getElementById('btnOkEqn').disabled = false;
              }
              else{
              document.getElementById('btnOkEqn').disabled = true;
              }
              var elem =  document.getElementById('eqntst');
              elem.value =   mf.value;      
              console.log(mf.value);
              });
              document.getElementById('btnOkEqn').addEventListener('click',insrteqn);
              function insrteqn(){
              var eqnv = $('#eqntst').val();
              formatDoc('insertHTML', `<math-field class="mftd">`+eqnv+`</math-field><br>`);
              window.addEventListener('DOMContentLoaded', 
            () => MathLive.renderMathInDocument());
              }
              mf.addEventListener('beforeinput', (ev) => {
              if (ev.inputType === 'insertLineBreak') {
              mf.executeCommand("moveToNextPlaceholder");
              ev.preventDefault();
              };
              });
              </script>
        <script>
          window.addEventListener('DOMContentLoaded', 
            () => MathLive.renderMathInDocument()
          );
          mf.addEventListener("focus", () =>  mathVirtualKeyboard.show());
          document.body.addEventListener("click", () =>  mathVirtualKeyboard.hide());
          </script>
          <script type="module">
            import { ComputeEngine } from 
              'https://unpkg.com/@cortex-js/compute-engine?module';
            const ce = new ComputeEngine();
            document.getElementsByClassName('mftd').disabled =true;
          </script>
      <script src="https://player.vimeo.com/api/player.js"></script>
  </body>

</html>
